#ssh-keygen -t rsa -b 2048 -C "mijames@vmware.com"
#ssh-keyscan -t rsa github.com >> ~/.ssh/known_hosts

rm git-ssh.yaml
cat <<EOF | tee git-ssh.yaml
apiVersion: v1
kind: Secret
metadata:
  name: git-ssh
  annotations:
    tekton.dev/git-0: github.com  # git server host   (!! required)
type: kubernetes.io/ssh-auth
stringData:
  ssh-privatekey: LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUJGd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFRRUF6OEUwVVFMb0JWM3VjTmMvV2NvZVFLdDZ0UXJIQWdCRGg5ZFFoYStRVFZENFROcmN6L0tWCkcvdHBTY3ZuWmtQTi80aHJYR1daVTc3THZxL2ZDN3YvaDRTWEZ5MGdraVFGRUk5bFNUc1E0NDljY09XaFdHVzlnN09tWjEKbERVczg1QnRBd0lwTkJORUtxNlVvQmhNQ2MrZTJMemVzb013a0xwb2Z4amN0dXQvb3g0Wm4zazl5dU8xaDNBb1NJbyt3dgp0eVFhbFpYeVNKWjl1NjAwRkxJZVFXRC9LSS9jR29yUE42bWp1MU1tYUFRZWFScUhEYmZvdEtwT01BUVBDRzJsdTBFbDlYCmpLQVZZNDFZdjViT1p2eFB0VzdIWmFvNTVaK09DNDJpcmpmUjhGSlUwYkpFeURROUZ4SVdUZ3VPcnl6YWJSU05PMHdrTHUKZTJrYkZkOUlEUUFBQTlCRHZ5MUlRNzh0U0FBQUFBZHpjMmd0Y25OaEFBQUJBUURQd1RSUkF1Z0ZYZTV3MXo5WnloNUFxMwpxMUNzY0NBRU9IMTFDRnI1Qk5VUGhNMnR6UDhwVWIrMmxKeStkbVE4My9pR3RjWlpsVHZzdStyOThMdS8rSGhKY1hMU0NTCkpBVVFqMlZKT3hEamoxeHc1YUZZWmIyRHM2Wm5XVU5TenprRzBEQWlrMEUwUXFycFNnR0V3Sno1N1l2TjZ5Z3pDUXVtaC8KR055MjYzK2pIaG1mZVQzSzQ3V0hjQ2hJaWo3QyszSkJxVmxmSklsbjI3clRRVXNoNUJZUDhvajl3YWlzODNxYU83VXlabwpCQjVwR29jTnQraTBxazR3QkE4SWJhVzdRU1gxZU1vQlZqalZpL2xzNW0vRSsxYnNkbHFqbmxuNDRMamFLdU45SHdVbFRSCnNrVElORDBYRWhaT0M0NnZMTnB0RkkwN1RDUXU1N2FSc1YzMGdOQUFBQUF3RUFBUUFBQVFFQXZsZDVJeS9TZS9oUFdUc2MKWTV0MmxER0h2dzhjdll5WVVvREcyWFM4ZE5uV1pET3hVeVFoMFAxS3ZiMy9TQWFmV1pzWEloUkRvaUtRY1NpWTVodGNSawpFSVhNZVBxOVVzZnJ1aVJMSEZDM2h4YlU0MXdOT1dDbkF4NlVZekZFK2ZJOHJpRHd0ekZmcHV0RWFGbGFjVEt6aWtlZ2tWClQ0emVDN2xKYW13VUNLR2RNVGQ4NVBMcUFXYlVSamlFQUZ0ZXlrZFd1Qzh5c0hFSzkwY001ZElBZHpzeUtqRlFCMG1XWEsKK3VNSzdpOFNYcFpGNUpLMmYxR3ZKVDhMQjBLOWRjM0tQMURhL1Q2U0FYb1VRWjB4enZxaFZvT2VUeC9kOEU1YUVWM1pCQQpvajZoZGZMME5JaTFPMENPUUpUcmZBaUthV1g3NFgydVZmZ1czMnowY1VvWEFRQUFBSUVBemI2WHYzQlVRdzcrYlFCdGczCkFWSU1YWDZ3eGhURlZxbCtNdjFlYjE2eERPVGZ1TFk1dmpUV3ZvSU5kdWFjVnI4M0RoYVNzT2NrdE9kYjFYSXQwMDR0dlEKTmc4NE1WR3lYUzhONE9pajdOem9yK3FGbjFlY0dxOHU5V0toUEtRNktSZHVNZ3RSbjltTUczeTJKTHhUT2M4YzVGK3JoWQprWXpKSzJrTFVHR1BFQUFBQ0JBUDQ4OWFwYnhrYjZBYndqSVltd3d6UlR3ZHh2a2Z2dnlsZjAvMk1jeEdiWEd0Q2NudkhtCjlaOFptcWdXTEpla2crWStDK2pSdnRkL3dBdStQOTcxZ1FBZkR0OTFrV1diUlkzNkhIVU8ycHlNb0RmZDBQenI0bVhHRWwKQ2kwWUpvYUF4R3BvcDRINFZLSFRKQ3FWU3ZDSGpvczRPTGR2ZFY4UWxsemdmNEwxY2RBQUFBZ1FEUk1jZDFWQ0FZTlRXdwpYTjRyS3VWUWtSUnYrNWYyalpUSzB5dkxiQkoxVys3Ynl6K1RnenhoUWYvL1JxN2JLb25ZSEFSRzEyOFFFWmtyK0tFRXVKCkxOZHpndm14NVoxbzNvOGhGUVVraTdEdjY2cFRIeHF1ZTRXa2M0ampzbVhxNklGbzFyQ1VWQXJLVlJHSm5VcHJLVDRHbU4KUUdxMVFYUFVQS2tZQUQyeHNRQUFBQkp0YVdwaGJXVnpRSFp0ZDJGeVpTNWpiMjBCQWdNRUJRWUgKLS0tLS1FTkQgT1BFTlNTSCBQUklWQVRFIEtFWS0tLS0t
  known_hosts: Z2l0aHViLmNvbSBzc2gtcnNhIEFBQUFCM056YUMxeWMyRUFBQUFCSXdBQUFRRUFxMkE3aFJHbWRubTl0VURiTzlJRFN3Qks2VGJRYStQWFlQQ1B5NnJiVHJUdHc3UEhrY2NLcnBwMHlWaHA1SGRFSWNLcjZwTGxWREJmT0xYOVFVc3lDT1Ywd3pmaklKTmxHRVlzZGxMSml6SGhibjJtVWp2U0FIUXFaRVRZUDgxZUZ6TFFOblBIdDRFVlZVaDdWZkRFU1U4NEtlem1ENVFsV3BYTG12VTMxL3lNZitTZTh4aEhUdktTQ1pJRkltV3dvRzZtYlVvV2Y5bnpwSW9hU2pCK3dlcXFVVW1wYWFhc1hWYWw3MkorVVgyQisyUlBXM1JjVDBlT3pRZ3FsSkwzUktyVEp2ZHNqRTNKRUF2R3EzbEdIU1pYeTI4RzNza3VhMlNtVmkvdzR5Q0U2Z2JPRHFuVFdsZzcrd0M2MDR5ZEdYQThWSmlTNWFwNDNKWGlVRkZBYVE9PQo=
  identity:   LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUJGd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFRRUF6OEUwVVFMb0JWM3VjTmMvV2NvZVFLdDZ0UXJIQWdCRGg5ZFFoYStRVFZENFROcmN6L0tWCkcvdHBTY3ZuWmtQTi80aHJYR1daVTc3THZxL2ZDN3YvaDRTWEZ5MGdraVFGRUk5bFNUc1E0NDljY09XaFdHVzlnN09tWjEKbERVczg1QnRBd0lwTkJORUtxNlVvQmhNQ2MrZTJMemVzb013a0xwb2Z4amN0dXQvb3g0Wm4zazl5dU8xaDNBb1NJbyt3dgp0eVFhbFpYeVNKWjl1NjAwRkxJZVFXRC9LSS9jR29yUE42bWp1MU1tYUFRZWFScUhEYmZvdEtwT01BUVBDRzJsdTBFbDlYCmpLQVZZNDFZdjViT1p2eFB0VzdIWmFvNTVaK09DNDJpcmpmUjhGSlUwYkpFeURROUZ4SVdUZ3VPcnl6YWJSU05PMHdrTHUKZTJrYkZkOUlEUUFBQTlCRHZ5MUlRNzh0U0FBQUFBZHpjMmd0Y25OaEFBQUJBUURQd1RSUkF1Z0ZYZTV3MXo5WnloNUFxMwpxMUNzY0NBRU9IMTFDRnI1Qk5VUGhNMnR6UDhwVWIrMmxKeStkbVE4My9pR3RjWlpsVHZzdStyOThMdS8rSGhKY1hMU0NTCkpBVVFqMlZKT3hEamoxeHc1YUZZWmIyRHM2Wm5XVU5TenprRzBEQWlrMEUwUXFycFNnR0V3Sno1N1l2TjZ5Z3pDUXVtaC8KR055MjYzK2pIaG1mZVQzSzQ3V0hjQ2hJaWo3QyszSkJxVmxmSklsbjI3clRRVXNoNUJZUDhvajl3YWlzODNxYU83VXlabwpCQjVwR29jTnQraTBxazR3QkE4SWJhVzdRU1gxZU1vQlZqalZpL2xzNW0vRSsxYnNkbHFqbmxuNDRMamFLdU45SHdVbFRSCnNrVElORDBYRWhaT0M0NnZMTnB0RkkwN1RDUXU1N2FSc1YzMGdOQUFBQUF3RUFBUUFBQVFFQXZsZDVJeS9TZS9oUFdUc2MKWTV0MmxER0h2dzhjdll5WVVvREcyWFM4ZE5uV1pET3hVeVFoMFAxS3ZiMy9TQWFmV1pzWEloUkRvaUtRY1NpWTVodGNSawpFSVhNZVBxOVVzZnJ1aVJMSEZDM2h4YlU0MXdOT1dDbkF4NlVZekZFK2ZJOHJpRHd0ekZmcHV0RWFGbGFjVEt6aWtlZ2tWClQ0emVDN2xKYW13VUNLR2RNVGQ4NVBMcUFXYlVSamlFQUZ0ZXlrZFd1Qzh5c0hFSzkwY001ZElBZHpzeUtqRlFCMG1XWEsKK3VNSzdpOFNYcFpGNUpLMmYxR3ZKVDhMQjBLOWRjM0tQMURhL1Q2U0FYb1VRWjB4enZxaFZvT2VUeC9kOEU1YUVWM1pCQQpvajZoZGZMME5JaTFPMENPUUpUcmZBaUthV1g3NFgydVZmZ1czMnowY1VvWEFRQUFBSUVBemI2WHYzQlVRdzcrYlFCdGczCkFWSU1YWDZ3eGhURlZxbCtNdjFlYjE2eERPVGZ1TFk1dmpUV3ZvSU5kdWFjVnI4M0RoYVNzT2NrdE9kYjFYSXQwMDR0dlEKTmc4NE1WR3lYUzhONE9pajdOem9yK3FGbjFlY0dxOHU5V0toUEtRNktSZHVNZ3RSbjltTUczeTJKTHhUT2M4YzVGK3JoWQprWXpKSzJrTFVHR1BFQUFBQ0JBUDQ4OWFwYnhrYjZBYndqSVltd3d6UlR3ZHh2a2Z2dnlsZjAvMk1jeEdiWEd0Q2NudkhtCjlaOFptcWdXTEpla2crWStDK2pSdnRkL3dBdStQOTcxZ1FBZkR0OTFrV1diUlkzNkhIVU8ycHlNb0RmZDBQenI0bVhHRWwKQ2kwWUpvYUF4R3BvcDRINFZLSFRKQ3FWU3ZDSGpvczRPTGR2ZFY4UWxsemdmNEwxY2RBQUFBZ1FEUk1jZDFWQ0FZTlRXdwpYTjRyS3VWUWtSUnYrNWYyalpUSzB5dkxiQkoxVys3Ynl6K1RnenhoUWYvL1JxN2JLb25ZSEFSRzEyOFFFWmtyK0tFRXVKCkxOZHpndm14NVoxbzNvOGhGUVVraTdEdjY2cFRIeHF1ZTRXa2M0ampzbVhxNklGbzFyQ1VWQXJLVlJHSm5VcHJLVDRHbU4KUUdxMVFYUFVQS2tZQUQyeHNRQUFBQkp0YVdwaGJXVnpRSFp0ZDJGeVpTNWpiMjBCQWdNRUJRWUgKLS0tLS1FTkQgT1BFTlNTSCBQUklWQVRFIEtFWS0tLS0t
  identity.pub: c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCQVFEUHdUUlJBdWdGWGU1dzF6OVp5aDVBcTNxMUNzY0NBRU9IMTFDRnI1Qk5VUGhNMnR6UDhwVWIrMmxKeStkbVE4My9pR3RjWlpsVHZzdStyOThMdS8rSGhKY1hMU0NTSkFVUWoyVkpPeERqajF4dzVhRllaYjJEczZabldVTlN6emtHMERBaWswRTBRcXJwU2dHRXdKejU3WXZONnlnekNRdW1oL0dOeTI2MytqSGhtZmVUM0s0N1dIY0NoSWlqN0MrM0pCcVZsZkpJbG4yN3JUUVVzaDVCWVA4b2o5d2FpczgzcWFPN1V5Wm9CQjVwR29jTnQraTBxazR3QkE4SWJhVzdRU1gxZU1vQlZqalZpL2xzNW0vRSsxYnNkbHFqbmxuNDRMamFLdU45SHdVbFRSc2tUSU5EMFhFaFpPQzQ2dkxOcHRGSTA3VENRdTU3YVJzVjMwZ04gbWlqYW1lc0B2bXdhcmUuY29t
EOF

kubectl config use-context tap-build
kubectl apply -f git-ssh.yaml -n default



#GIT-SSH
#1. ssh-keygen -t rsa
#2. vim .ssh/id_rsa.pub -> copy it to the git repo https://github.com/dhadukk/tanzu-java-web-app-latest/settings/keys
#3. ssh-keyscan github.com > ./known_hosts
#4. kubectl create secret generic git-ssh --from-file=.ssh/id_rsa --from-file=.ssh/id_rsa.pub --from-file=./known_hosts -n default
